import 'dotenv/config';
import express from "express";
import userRoutes from "./routes/Users.js";
import referentielRoutes from "./routes/Referentiels.js";
import tagRoutes from "./routes/Tags.js";
import profilRoutes from "./routes/Profiles.js";
import competenceRoutes from "./routes/Competences.js";
import profilSortieRoutes from "./routes/Profils-sortie.js";
import niveauRoutes from "./routes/Niveaux.js";
import promoRoutes from "./routes/Promos.js";
import authRoutes from "./routes/Auth.js";
import { authMiddleware } from './middlewares/auth.js';
const PORT = process.env.PORT || 3003;
const app = express();
app.use(express.json());
app.use("/auth", authRoutes);
app.use(authMiddleware);
app.use("/users", userRoutes);
app.use("/profils", profilRoutes);
app.use("/competences", competenceRoutes);
app.use("/profils-sortie", profilSortieRoutes);
app.use("/niveaux", niveauRoutes);
app.use("/tags", tagRoutes);
app.use("/referentiels", referentielRoutes);
app.use("/promos", promoRoutes);
app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
});
